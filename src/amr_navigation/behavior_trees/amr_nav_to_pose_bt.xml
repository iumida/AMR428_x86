<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <ReactiveFallback name="GoalMonitor">
      <GoalUpdated/>

      <Sequence name="NavigateOnce">
        <RecoveryNode number_of_retries="3" name="NavigateRecovery">
          <Sequence name="NavigateBody">
            <ComputePathToPose goal="{goal}" path="{path}" planner_id="GridBased"/>
            <FollowPath path="{path}" controller_id="MPPI"/>
          </Sequence>

          <ReactiveFallback name="RecoveryActions">
            <GoalUpdated/>
            <RoundRobin>
              <ClearEntireCostmap name="ClearLocal" service_name="local_costmap/clear_entirely_local_costmap"/>
              <ClearEntireCostmap name="ClearGlobal" service_name="global_costmap/clear_entirely_global_costmap"/>
            </RoundRobin>
          </ReactiveFallback>
        </RecoveryNode>
      </Sequence>
    </ReactiveFallback>
  </BehaviorTree>
</root>

